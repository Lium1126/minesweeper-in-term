# ターミナル用マインスイーパー
ターミナル上でマインスイーパーを楽しめます。

# 使用ライブラリ
`ncurses`ライブラリを使用しています

# 動作確認環境
| 環境 | バージョン |
| --- | --- |
| OS | macOS 11.4 |
| C言語 | Apple clang version 12.0.5 |

# 実行方法
1. `ncurses`のインストール
    
    - `ncurses`ライブラリは標準ライブラリなので、基本的にインストールは不要です。
    - `ncurses`ライブラリの本体は以下の手順でインストールできます。

    <br>
  
    1. [ダウンロードページ](http://ftp.gnu.org/gnu/ncurses/)から任意のバージョンの`ncurses-ver.tar.gz`をダウンロード
    2. ダウンロードした`ncurses-ver.tar.gz`をダウンロードディレクトリツ内で展開
    3. ターミナルで以下のコマンドを実行
    
        ```
        $ cd ~/Download/ncurses-5.7
        $ ./configure
        $ make
        $ sudo make install
        ```
  
2. GitHubリポジトリのクローン
    
    任意のディレクトリにて、次のコマンドでこのリポジトリをクローンします。
    
    ```
    $ git clone https://github.com/Lium1126/minesweeper-in-term/
    ```
    
3. ディレクトリの移動
    
    次のコマンドを実行して、プログラムのあるディレクトリに移動します
    
    ```
    $ cd src
    ```
    
4. プログラムのコンパイルおよび実行
    
    次のコマンドで、プログラムをコンパイルし実行します。
    
    ```
    $ gcc -lncurses minesweeper.c && ./a.out
    ```
    
# 操作方法
## ホーム画面
![](https://github.com/Lium1126/minesweeper-in-term/blob/main/images/home.png)

- カーソルキーで矢印を動かすことができます
- エンターキーを押下すると、矢印で指定している項目を選択することができます
   
   | 項目 | 内容 |
   | --- | --- |
   | Game start | ゲームを開始します |
   | Change setting | 難易度設定画面へ遷移します　|
   | How to play | 操作説明画面へ遷移します |
   | Exit | プログラムを終了します |

## 操作説明画面
![](https://github.com/Lium1126/minesweeper-in-term/blob/main/images/how_to_play.png)

- 操作説明が表示されます
- エンターキーを押下するとホーム画面に戻ります

## 難易度設定画面
![](https://github.com/Lium1126/minesweeper-in-term/blob/main/images/setting.png)

- 難易度を設定できます
- 設定できる項目は次の通りです
    
    | 項目名 | 内容 | 範囲 |
    | --- | --- | --- |
    | Mines | 盤面に埋まっている地雷の個数 | 5~20 |
    | Side | 盤面の一辺のマス数 | 5~15 |
    
- 上下のカーソルキーで、選択中の項目について設定を変更できます
- 設定変更を確定するにはエンターキーを押下してください
- 設定変更をキャンセルするには`x`キーを押下してください

## ゲーム画面
![](https://github.com/Lium1126/minesweeper-in-term/blob/main/images/notopen.png)

- ゲームを開始すると、全てのマスが閉じた盤面が表示されます
- 画面左上には埋まっている地雷の個数が常時表示されます
- カーソルキーでマスを選択できます
- 選択中のマスには、次の操作を加えることができます
    
    | 操作 | 動作 |
    | --- | --- |
    | エンターキー | 選択中のマスを開きます。地雷の埋まっていないマスであった場合はヒントが開示されます。地雷が埋まっているマスであった場合はゲームオーバーとなります。 |
    | スペースキー | 選択中のマスにフラグを立てたり消したりします。開かれているマスにこの操作を加えることはできません。地雷が埋まっているマス全てにフラグを立てることができた時点でゲームクリアとなります。 |
    | エスケープキー | ゲームを中断してホーム画面に戻ります。 |
    
![](https://github.com/Lium1126/minesweeper-in-term/blob/main/images/playing.png)

- マスの状態は次の通りです
    
    | 記号 | 内容 |
    | --- | --- |
    | `#` | 開かれていないマス |
    | `@` | フラグが立てられているマス |
    | `.` | 開かれたマスのうち、周囲8マスの中に地雷が埋まっていないマス |
    | `1~8` | 開かれたマス(数字は周囲8マスの中に地雷が埋まっているマスの個数) |
    
## リザルト画面

![](https://github.com/Lium1126/minesweeper-in-term/blob/main/images/result.png)

- ゲーム結果が表示されます
- 再度ゲームを行うか、ホーム画面に戻るか選択できます
